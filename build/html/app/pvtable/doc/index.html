
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PV Table &#8212; Phoebus 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="PV Tree" href="../../pvtree/doc/index.html" />
    <link rel="prev" title="Performance Monitor" href="../../perfmon/doc/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../pvtree/doc/index.html" title="PV Tree"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../perfmon/doc/index.html" title="Performance Monitor"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Phoebus 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../applications.html" accesskey="U">Applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PV Table</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pv-table">
<h1>PV Table<a class="headerlink" href="#pv-table" title="Permalink to this headline">¶</a></h1>
<p>The PV Table provides a tabular view of PV names and their current value with time stamp and alarm state.</p>
<p>You can take a “snapshot” of current values and dates, and the table will now highlight rows
where the current value differs from the snapshot.</p>
<p>The configuration (PV names, saved value, saved date) can be saved and later re-loaded,
see details on the file format described below.</p>
<div class="figure align-default" id="id1">
<img alt="../../../_images/pv_table.png" src="../../../_images/pv_table.png" />
<p class="caption"><span class="caption-text">PV Table</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="adding-and-removing-pvs">
<h2>Adding and Removing PVs<a class="headerlink" href="#adding-and-removing-pvs" title="Permalink to this headline">¶</a></h2>
<p>The simplest way is to enter new PV names in last row of table.</p>
<p>To insert a new PV in the middle of the table, open the context menu on
the desired table row and select “Insert Row (above)” to add a row above,
then change the PV name of the new row.</p>
<p>Finally, you use drag-and-drop to move existing rows within the table,
or to ‘drop’ PV names into the table from tools that support dragging PV names.</p>
<p>Delete PV names by changing their name to an empty name,
or by selecting one or more PVs and deleting them via the context menu.</p>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<p>PV names that start with “# ” are considered a comment.
This can also be used to add empty lines into the table by entering just “#” as a PV name.</p>
</div>
<div class="section" id="checking-pvs-for-snapshot-restore">
<h2>Checking PVs for Snapshot/Restore<a class="headerlink" href="#checking-pvs-for-snapshot-restore" title="Permalink to this headline">¶</a></h2>
<p>By default, the check mark at the start of each table row is set.
When taking a snapshot of current values or restoring PVs to the snapshot,
this typically applies to rows where the check mark is set.</p>
<p>You can un-check table rows if they should be excluded.
The context menu of the table offers shortcuts to select or de-select the whole table.</p>
<p>In addition, the context menu also allows taking a snapshot or restoring the
row on which the context menu was invoked, which can be useful to operate on just
one PV and not the whole table.</p>
</div>
<div class="section" id="restoring-pvs">
<h2>Restoring PVs<a class="headerlink" href="#restoring-pvs" title="Permalink to this headline">¶</a></h2>
<p>The value of PVs can be restored, i.e. the saved value will be written to the PV.
By default, this affects every row of the table, but the check-mark at the start
of each table row can be use to de-select rows.</p>
</div>
<div class="section" id="completion">
<h2>Completion<a class="headerlink" href="#completion" title="Permalink to this headline">¶</a></h2>
<p>By default, saved values are restored to PVs by simply writing to them.
When checkbox in the “Completion” column is selected for an PV,
the saved value will be restored by using the “Put-Callback” method of writing,
awaiting the completion of the write.
This can be useful with PVs that support put-callback,
a typical example being motors.</p>
<p>The PV Table has one global timeout that is used for each write operation that
uses completion. It defaults to 60 seconds and can be changed via the
“Completion Timeout” option in the context menu.</p>
</div>
<div class="section" id="tolerance">
<h2>Tolerance<a class="headerlink" href="#tolerance" title="Permalink to this headline">¶</a></h2>
<p>Values are highlighted when they differ from the saved snapshot value by a certain amount.
The currently used tolerance is displayed in the tool-tip of a table row.
This ‘tolerance’ value can be configured via the context menu of selected table rows.</p>
<p>When configuring the ‘tolerance’, note that it applies to the rows which are
selected in the table via the usual selection mechanism (click on one row, shift-click to select multiple rows, …).
If no row specific rows are selected to set their tolerance, the tolerance for every row in the table will be updated.
This is independent of the check mark in the first table column which marks rows to be restored by writing
their saved value back to the PVs.</p>
</div>
<div class="section" id="file-formats">
<h2>File Formats<a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h2>
<p>The original PVTable file format uses a “.pvs” extension for its file names.
The files have an XML format which is described by the &lt;file&gt;pv_table.xsd&lt;/file&gt;
contained in the PV Table sources.</p>
<p>Since version 4.0.0, the PVTable also supports file format
used by the EPICS synApps <code class="docutils literal notranslate"><span class="pre">autosave</span></code> module,
<a class="reference external" href="http://www.aps.anl.gov/bcda/synApps/autosave/autosave.html">http://www.aps.anl.gov/bcda/synApps/autosave/autosave.html</a>.
Whenever loading or saving a PVTable from a file with a “.sav” extension,
the autosave format will be used.</p>
<p>Advantages of the original PVTable “.pvs” file format:</p>
<blockquote>
<div><ul class="simple">
<li><p>Tracks which rows were selected.</p></li>
<li><p>Saves not only the value but also the timestamp of saved values.</p></li>
<li><p>Contains global as well as per-element ‘tolerance’.</p></li>
<li><p>Allows using ‘completion’.</p></li>
<li><p>Best for standalone operation of the PVTable.</p></li>
</ul>
</div></blockquote>
<p>Advantages of the autosave “.sav” file format:</p>
<blockquote>
<div><ul class="simple">
<li><p>It can be used by the IOC to load/save settings.</p></li>
<li><p>PVTable allows easy comparison of last settings written by IOC against current values.</p></li>
<li><p>Best for use together with on-demand save/restore on the IOC.</p></li>
</ul>
</div></blockquote>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PV Table</a><ul>
<li><a class="reference internal" href="#adding-and-removing-pvs">Adding and Removing PVs</a></li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#checking-pvs-for-snapshot-restore">Checking PVs for Snapshot/Restore</a></li>
<li><a class="reference internal" href="#restoring-pvs">Restoring PVs</a></li>
<li><a class="reference internal" href="#completion">Completion</a></li>
<li><a class="reference internal" href="#tolerance">Tolerance</a></li>
<li><a class="reference internal" href="#file-formats">File Formats</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../../perfmon/doc/index.html"
                        title="previous chapter">Performance Monitor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../pvtree/doc/index.html"
                        title="next chapter">PV Tree</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/app/pvtable/doc/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../pvtree/doc/index.html" title="PV Tree"
             >next</a> |</li>
        <li class="right" >
          <a href="../../perfmon/doc/index.html" title="Performance Monitor"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Phoebus 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../applications.html" >Applications</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PV Table</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Phoebus Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>